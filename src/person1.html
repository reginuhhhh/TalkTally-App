<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8" />
    <title>TalkTally</title>
    <meta name="viewport"
        content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <link rel="icon" type="image/x-icon" href="./assets/imgs/logo.png" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./css/style.css" />

    <script type="module" src="./js/system/person1.js"></script>

    <meta name="theme-color" content="#31d53d" />
</head>

<body style="background-image: url('assets/imgs/blur-bg.png');">

    <div class="container-fluid">
        <nav class="navbar bg-purple fixed-top">
            <div class="container-fluid">
                <a href="message.html"><img src="assets/imgs/white-arrow-removebg-preview.png" alt="" height="30px"
                        width="40px"></a>
                        
                            <p id="pointsDisplay" class="fw-bold text-start text-light mb-1">Points: 100</p>
                        
            </div>
            
        </nav>

        

        <div class="chat mt-4 pt-4 container chat-container" id="messageContainer">
            <!-- Messages will be dynamically added here -->
            <div class="message me-5 mt-4">
                <div class="message-sender">Lorriane</div>
                <div class="message-content">Hi!</div>
            </div>
            <div class="message me-5 mt-4">
                <div class="message-sender">Lorriane</div>
                <div class="message-content">How are you doing?</div>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="input-group">
                        <input type="text" id="message-input" class="form-control" placeholder="Type your message...">
                        <button id="send-button" class="btn btn-secondary">Send</button>
                    </div>
                </div>
                
            </div>
        </div>
    </footer>

    <!-- Include Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>


    <script>
        let points = 100;

        document.getElementById('send-button').addEventListener('click', function () {
            sendMessage();
        });

        function sendMessage() {
            const messageInput = document.getElementById('message-input').value;
            const messageContainer = document.getElementById('messageContainer');
            const pointsDisplay = document.getElementById('pointsDisplay');

            if (points >= 10) {
                points -= 10;
                pointsDisplay.textContent = `Points: ${points}`;

                const messageElement = document.createElement('div');
                messageElement.className = 'message ms-5 bg-danger-subtle mt-4';
                messageElement.innerHTML = `
                    <div class="message-sender">Regina</div>
                    <div class="message-content">${messageInput}</div>
                `;
                messageContainer.appendChild(messageElement);

                // Clear the input field
                document.getElementById('message-input').value = '';
            } else {
                alert('You do not have enough points to send a message.');
            }
        }
    </script>

</body>

</html>
